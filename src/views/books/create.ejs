<%- include('../partials/layout-header', {title: title}) %>

<div class="row g-3">
    <div class="col-md-7 col-lg-8">
        <h4 class="mb-3">Создание книги</h4>
        <form action="/books" enctype="multipart/form-data" method="post" id="book" name="book" class="needs-validation" novalidate>
            <div class="row g-3">
                <div class="col-sm-6">
                    <label for="title" class="form-label">Название книги</label>
                    <input name="title" type="text" class="form-control" id="title" placeholder="Название книги" value="" required>
                    <div class="invalid-feedback">
                        Valid title is required.
                    </div>
                </div>

                <div class="col-12">
                    <div class="col-sm-6">
                        <label for="description" class="form-label">Описание книги</label>
                        <textarea name="description" class="form-control" id="description" placeholder="Описание книги" value="" cols="30" rows="10"></textarea>
                    </div>
                </div>

                <div class="col-12">
                    <div class="col-sm-6">
                        <label for="authors" class="form-label">Авторы книги</label>
                        <input name="authors" type="text" class="form-control" id="authors" placeholder="Авторы книги" value="" required>
                        <div class="invalid-feedback">
                            Valid authors is required.
                        </div>
                    </div>
                </div>

                <div class="col-12">
                    <div class="col-sm-6">
                        <label for="fileCover" class="form-label">Url обложки</label>
                        <input name="fileCover" type="text" class="form-control" id="fileCover" placeholder="Url обложки" value="">
                    </div>
                </div>

                <div class="col-12">
                    <div class="col-sm-6 mb-3">
                        <label for="fileBook" class="form-label">Загрузить файл книги</label>
                        <input name="fileBook" class="form-control" type="file" id="fileBook">
                    </div>
                </div>

            <hr class="my-4">

            <button class="w-100 btn btn-primary btn-lg" type="submit">Сохранить...</button>
            </div>
        </form>
    </div>
</div>
<script>
  // document.getElementById('book').addEventListener('submit', (event) => {
  //   event.preventDefault();
  //   // заполним FormData данными из формы
  //   let formData = new FormData(document.forms.book);
  //   console.log(formData.get(title))
  //   // отправим данные
  //   let xhr = new XMLHttpRequest();
  //   //xhr.open("POST", "/article/xmlhttprequest/post/user");
  //   //xhr.send(formData);
  //
  //   //xhr.onload = () => alert(xhr.response);
  // })

</script>

<%- include('../partials/layout-footer', {title: title}) %>